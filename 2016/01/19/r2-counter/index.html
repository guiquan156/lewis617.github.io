<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Reactä¸Reduxæ•™ç¨‹ï¼ˆä¸€ï¼‰connectã€applyMiddlewareã€thunkã€webpackHotMiddleware | Lewis617çš„ä¸ªäººåšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡è§£è¯»å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼ˆcounterï¼‰çš„æ–¹å¼æ¥å­¦ä¹ React+Reduxã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Reactä¸Reduxæ•™ç¨‹ï¼ˆä¸€ï¼‰connectã€applyMiddlewareã€thunkã€webpackHotMiddleware">
<meta property="og:url" content="https://lewis617.github.io/2016/01/19/r2-counter/index.html">
<meta property="og:site_name" content="Lewis617çš„ä¸ªäººåšå®¢">
<meta property="og:description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡è§£è¯»å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼ˆcounterï¼‰çš„æ–¹å¼æ¥å­¦ä¹ React+Reduxã€‚">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/83900b4egw1f9xu9d095sg20cy01vmzy.gif">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/83900b4egw1f9xu9bp0bwj207n05mjrm.jpg">
<meta property="og:image" content="https://ws4.sinaimg.cn/large/83900b4egw1f9xu9bs5nhj2056055weu.jpg">
<meta property="og:image" content="https://ws2.sinaimg.cn/large/83900b4egw1f9xu9c41t5j20ks06u40f.jpg">
<meta property="og:updated_time" content="2016-12-19T12:59:38.807Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reactä¸Reduxæ•™ç¨‹ï¼ˆä¸€ï¼‰connectã€applyMiddlewareã€thunkã€webpackHotMiddleware">
<meta name="twitter:description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡è§£è¯»å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼ˆcounterï¼‰çš„æ–¹å¼æ¥å­¦ä¹ React+Reduxã€‚">
<meta name="twitter:image" content="https://ws4.sinaimg.cn/large/83900b4egw1f9xu9d095sg20cy01vmzy.gif">
  
    <link rel="alternate" href="/atom.xml" title="Lewis617çš„ä¸ªäººåšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  
    <link href="//fonts.css.network/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Lewis617çš„ä¸ªäººåšå®¢</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ä½•ä»¥å‡åï¼Œå”¯æœ‰æ²‰æ·€</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">ä¸»é¡µ</a>
        
          <a class="main-nav-link" href="/archives">å½’æ¡£</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://lewis617.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-r2-counter" class="article article-type-post" itemscope
		 itemprop="blogPost">
	<div class="article-meta">
		<a href="/2016/01/19/r2-counter/" class="article-date">
  <time datetime="2016-01-19T23:52:00.000Z" itemprop="datePublished">2016-01-20</time>
</a>
		
	</div>
	<div class="article-inner">
		
		
		<header class="article-header">
			
  
    <h1 class="article-title" itemprop="name">
      Reactä¸Reduxæ•™ç¨‹ï¼ˆä¸€ï¼‰connectã€applyMiddlewareã€thunkã€webpackHotMiddleware
    </h1>
  

		</header>
		
		<div class="article-entry" itemprop="articleBody">
			
			<p>ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡è§£è¯»å®˜æ–¹ç¤ºä¾‹ä»£ç ï¼ˆcounterï¼‰çš„æ–¹å¼æ¥å­¦ä¹ React+Reduxã€‚</p>
<a id="more"></a>
<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p><img src="https://ws4.sinaimg.cn/large/83900b4egw1f9xu9d095sg20cy01vmzy.gif" alt=""></p>
<p>è¿™ä¸ªä¾‹å­æ˜¯å®˜æ–¹çš„ä¾‹å­ï¼Œè®¡æ•°å™¨ç¨‹åºã€‚å‰ä¸¤ä¸ªæŒ‰é’®æ˜¯åŠ å‡ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å¦‚æœå½“å‰æ•°å­—æ˜¯å¥‡æ•°åˆ™åŠ ä¸€ï¼Œç¬¬å››ä¸ªæŒ‰é’®æ˜¯å¼‚æ­¥åŠ ä¸€ï¼ˆå»¶è¿Ÿä¸€ç§’ï¼‰ã€‚</p>
<p>æºä»£ç ï¼š</p>
<p><a href="https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter" target="_blank" rel="external">https://github.com/lewis617/react-redux-tutorial/tree/master/redux-examples/counter</a></p>
<h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>components/Counter.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component, PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render() &#123;</div><div class="line">    <span class="comment">//ä»ç»„ä»¶çš„propså±æ€§ä¸­å¯¼å…¥å››ä¸ªæ–¹æ³•å’Œä¸€ä¸ªå˜é‡</span></div><div class="line">    <span class="keyword">const</span> &#123; increment, incrementIfOdd, incrementAsync, decrement, counter &#125; = <span class="keyword">this</span>.props;</div><div class="line">    <span class="comment">//æ¸²æŸ“ç»„ä»¶ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ•°å­—ï¼Œå››ä¸ªæŒ‰é’®</span></div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></div><div class="line">        Clicked: &#123;counter&#125; times</div><div class="line">        &#123;' '&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;increment&#125;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">        &#123;' '&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;decrement&#125;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">        &#123;' '&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;incrementIfOdd&#125;</span>&gt;</span>Increment if odd<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">        &#123;' '&#125;</div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> incrementAsync()&#125;&gt;Increment async<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//é™åˆ¶ç»„ä»¶çš„propså®‰å…¨</span></div><div class="line">Counter.propTypes = &#123;</div><div class="line">  <span class="comment">//incrementå¿…é¡»ä¸ºfucntion,ä¸”å¿…é¡»å­˜åœ¨</span></div><div class="line">  increment: PropTypes.func.isRequired,</div><div class="line">  <span class="attr">incrementIfOdd</span>: PropTypes.func.isRequired,</div><div class="line">  <span class="attr">incrementAsync</span>: PropTypes.func.isRequired,</div><div class="line">  <span class="attr">decrement</span>: PropTypes.func.isRequired,</div><div class="line">  <span class="comment">//counterå¿…é¡»ä¸ºæ•°å­—ï¼Œä¸”å¿…é¡»å­˜åœ¨</span></div><div class="line">  counter: PropTypes.number.isRequired</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter</div></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¹²äº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>ä»propsä¸­å¯¼å…¥å˜é‡å’Œæ–¹æ³•</li>
<li>æ¸²æŸ“ç»„ä»¶</li>
</ol>
<p>æœ‰çš„åŒå­¦å¯èƒ½ä¼šæ€¥äºæƒ³çŸ¥é“propsçš„æ–¹æ³•å’Œå˜é‡æ˜¯æ€ä¹ˆæ¥ï¼Œä¸‹é¢æˆ‘ä»¬ç»§ç»­è§£è¯»ã€‚</p>
<h2 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h2><p>containers/App.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">'../components/Counter'</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> CounterActions <span class="keyword">from</span> <span class="string">'../actions/counter'</span></div><div class="line"></div><div class="line"><span class="comment">//å°†state.counterç»‘å®šåˆ°propsçš„counter</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">counter</span>: state.counter</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å°†actionçš„æ‰€æœ‰æ–¹æ³•ç»‘å®šåˆ°propsä¸Š</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapDispatchToProps</span>(<span class="params">dispatch</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> bindActionCreators(CounterActions, dispatch)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//é€šè¿‡react-reduxæä¾›çš„connectæ–¹æ³•å°†æˆ‘ä»¬éœ€è¦çš„stateä¸­çš„æ•°æ®å’Œactionsä¸­çš„æ–¹æ³•ç»‘å®šåˆ°propsä¸Š</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(Counter)</div></pre></td></tr></table></figure>
<p>çœ‹åˆ°è¿™é‡Œï¼Œå¾ˆå¤šåˆšæ¥è§¦ReduxåŒå­¦å¯èƒ½å·²ç»æ™•äº†ï¼Œæˆ‘æ¥å›¾è§£ä¸‹Reduxçš„æµç¨‹ã€‚</p>
<p><img src="https://ws3.sinaimg.cn/large/83900b4egw1f9xu9bp0bwj207n05mjrm.jpg" alt=""></p>
<p>stateå°±æ˜¯æ•°æ®ï¼Œç»„ä»¶å°±æ˜¯æ•°æ®çš„å‘ˆç°å½¢å¼ï¼Œactionæ˜¯åŠ¨ä½œï¼Œactionæ˜¯é€šè¿‡reduceræ¥æ›´æ–°stateçš„ã€‚</p>
<p>ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¹²äº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>æŠŠ<code>state</code>çš„<code>counter</code>å€¼ç»‘å®šåˆ°propsä¸Š</li>
<li>æŠŠå››ä¸ªactionåˆ›å»ºå‡½æ•°ç»‘å®šåˆ°propsä¸Š</li>
</ol>
<h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2><p>é‚£ä¹ˆä¸ºä»€ä¹ˆå°±ç»‘å®šä¸Šå»äº†å‘¢ï¼Ÿå› ä¸ºæœ‰<code>connect</code>è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ–è€…æˆ‘ä»¬è¯¥æ€ä¹ˆç”¨è¿™ä¸ªæ–¹æ³•å‘¢ï¼Ÿ<code>connect</code>è¿™ä¸ªæ–¹æ³•çš„ç”¨æ³•ï¼Œå¯ä»¥ç›´æ¥çœ‹<a href="http://camsong.github.io/redux-in-chinese/docs/react-redux/api.html" target="_blank" rel="external">apiæ–‡æ¡£</a>ã€‚æˆ‘ä¹Ÿå¯ä»¥ç®€å•æè¿°ä¸€ä¸‹ï¼š</p>
<ol>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¿…é¡»æ˜¯functionï¼Œä½œç”¨æ˜¯ç»‘å®šstateçš„æŒ‡å®šå€¼åˆ°propsä¸Šé¢ã€‚è¿™é‡Œç»‘å®šçš„æ˜¯counter</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯functionï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ï¼Œä½œç”¨æ˜¯ç»‘å®šactionåˆ›å»ºå‡½æ•°åˆ°propsä¸Šã€‚</li>
<li>è¿”å›å€¼ï¼Œæ˜¯ç»‘å®šåçš„ç»„ä»¶</li>
</ol>
<p>è¿™é‡Œè¿˜æœ‰å¾ˆå¤šç§å…¶ä»–å†™æ³•ï¼Œæˆ‘å–œæ¬¢åœ¨ç¬¬äºŒä¸ªå‚æ•°ç»‘å®šä¸€ä¸ªå¯¹è±¡ï¼Œå³</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">'../components/Counter'</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> CounterActions <span class="keyword">from</span> <span class="string">'../actions/counter'</span></div><div class="line"></div><div class="line"><span class="comment">//å°†state.counterç»‘å®šåˆ°propsçš„counter</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">counter</span>: state.counter</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//é€šè¿‡react-reduxæä¾›çš„connectæ–¹æ³•å°†æˆ‘ä»¬éœ€è¦çš„stateä¸­çš„æ•°æ®å’Œactionsä¸­çš„æ–¹æ³•ç»‘å®šåˆ°propsä¸Š</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, CounterActions)(Counter)</div></pre></td></tr></table></figure>
<p>è¿˜å¯ä»¥ä¸å†™ç¬¬äºŒä¸ªå‚æ•°ï¼Œåé¢ç”¨dispatchæ¥è§¦å‘actionçš„æ–¹æ³•ï¼Œå³</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> Counter <span class="keyword">from</span> <span class="string">'../components/Counter'</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> CounterActions <span class="keyword">from</span> <span class="string">'../actions/counter'</span></div><div class="line"></div><div class="line"><span class="comment">//å°†state.counterç»‘å®šåˆ°propsçš„counter</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapStateToProps</span>(<span class="params">state</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">counter</span>: state.counter</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//é€šè¿‡react-reduxæä¾›çš„connectæ–¹æ³•å°†æˆ‘ä»¬éœ€è¦çš„stateä¸­çš„æ•°æ®ç»‘å®šåˆ°propsä¸Š</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps)(Counter)</div></pre></td></tr></table></figure>
<p>åé¢åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨<code>dispatch()</code>æ¥è§¦å‘actionåˆ›å»ºå‡½æ•°ã€‚</p>
<h2 id="actionå’Œreducerä¸¤ä¸ªå¥½åŸºå‹è´Ÿè´£æ›´æ–°state"><a href="#actionå’Œreducerä¸¤ä¸ªå¥½åŸºå‹è´Ÿè´£æ›´æ–°state" class="headerlink" title="actionå’Œreducerä¸¤ä¸ªå¥½åŸºå‹è´Ÿè´£æ›´æ–°state"></a>actionå’Œreducerä¸¤ä¸ªå¥½åŸºå‹è´Ÿè´£æ›´æ–°state</h2><p>actions/counter.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> INCREMENT_COUNTER = <span class="string">'INCREMENT_COUNTER'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> DECREMENT_COUNTER = <span class="string">'DECREMENT_COUNTER'</span></div><div class="line"><span class="comment">//å¯¼å‡ºåŠ ä¸€çš„æ–¹æ³•</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">increment</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">type</span>: INCREMENT_COUNTER</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å¯¼å‡ºå‡ä¸€çš„æ–¹æ³•</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">decrement</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">type</span>: DECREMENT_COUNTER</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å¯¼å‡ºå¥‡æ•°åŠ ä¸€çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–¹æ³•ï¼ŒåŒ…å«dispatchå’ŒgetStateä¸¤ä¸ªå‚æ•°ï¼Œdispatchç”¨äºæ‰§è¡Œactionçš„æ–¹æ³•ï¼ŒgetStateè¿”å›state</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">incrementIfOdd</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">dispatch, getState</span>) =&gt;</span> &#123;</div><div class="line">    <span class="comment">//è·å–stateå¯¹è±¡ä¸­çš„counterå±æ€§å€¼</span></div><div class="line">    <span class="keyword">const</span> &#123; counter &#125; = getState()</div><div class="line"></div><div class="line">    <span class="comment">//å¶æ•°åˆ™è¿”å›</span></div><div class="line">    <span class="keyword">if</span> (counter % <span class="number">2</span> === <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">//æ²¡æœ‰è¿”å›å°±æ‰§è¡ŒåŠ ä¸€</span></div><div class="line">    dispatch(increment())</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//å¯¼å‡ºä¸€ä¸ªæ–¹æ³•,åŒ…å«ä¸€ä¸ªé»˜è®¤å‚æ•°delay,è¿”å›ä¸€ä¸ªæ–¹æ³•,ä¸€ç§’ååŠ ä¸€</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">incrementAsync</span>(<span class="params">delay = <span class="number">1000</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">dispatch</span> =&gt;</span> &#123;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      dispatch(increment())</div><div class="line">    &#125;, delay)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//è¿™äº›æ–¹æ³•éƒ½å¯¼å‡º,åœ¨å…¶ä»–æ–‡ä»¶å¯¼å…¥æ—¶å€™,ä½¿ç”¨import * as actions å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªactionså¯¹è±¡åŒ…å«æ‰€æœ‰çš„export</span></div></pre></td></tr></table></figure>
<p>reducers/counter.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; INCREMENT_COUNTER, DECREMENT_COUNTER &#125; <span class="keyword">from</span> <span class="string">'../actions/counter'</span></div><div class="line"></div><div class="line"><span class="comment">//reducerå…¶å®ä¹Ÿæ˜¯ä¸ªæ–¹æ³•è€Œå·²,å‚æ•°æ˜¯stateå’Œaction,è¿”å›å€¼æ˜¯æ–°çš„state</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params">state = <span class="number">0</span>, action</span>) </span>&#123;</div><div class="line">  <span class="keyword">switch</span> (action.type) &#123;</div><div class="line">    <span class="keyword">case</span> INCREMENT_COUNTER:</div><div class="line">      <span class="keyword">return</span> state + <span class="number">1</span></div><div class="line">    <span class="keyword">case</span> DECREMENT_COUNTER:</div><div class="line">      <span class="keyword">return</span> state - <span class="number">1</span></div><div class="line">    <span class="keyword">default</span>:</div><div class="line">      <span class="keyword">return</span> state</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>reducers/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> counter <span class="keyword">from</span> <span class="string">'./counter'</span></div><div class="line"></div><div class="line"><span class="comment">//ä½¿ç”¨reduxçš„combineReducersæ–¹æ³•å°†æ‰€æœ‰reduceræ‰“åŒ…èµ·æ¥</span></div><div class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;</div><div class="line">  counter</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> rootReducer</div></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç æˆ‘ä»¬å¹²äº†å‡ ä»¶äº‹:</p>
<ol>
<li>å†™äº†å››ä¸ªactionåˆ›å»ºå‡½æ•°</li>
<li>å†™äº†reducerç”¨äºæ›´æ–°state</li>
<li>å°†æ‰€æœ‰reducer(è¿™é‡Œåªæœ‰ä¸€ä¸ª)æ‰“åŒ…æˆä¸€ä¸ªreducer</li>
</ol>
<p>çœ‹åˆ°è¿™é‡Œï¼Œæœ‰å¾ˆå¤šåˆæ¬¡æ¥è§¦reduxçš„åŒå­¦å¯èƒ½å·²ç»æ™•äº†ï¼Œæ€ä¹ˆé‚£ä¹ˆå¤šæ¦‚å¿µï¼Ÿä¸ºäº†å½¢è±¡ç›´è§‚ï¼Œæˆ‘ä»¬åœ¨å¼€å‘å·¥å…·ï¼ˆReact dev toolsï¼‰ä¸Šçœ‹çœ‹è¿™äº›stateï¼Œpropsä»€ä¹ˆçš„ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/83900b4egw1f9xu9bs5nhj2056055weu.jpg" alt=""></p>
<p>actionçš„æ–¹æ³•å’Œstateçš„å˜é‡æ˜¯ä¸æ˜¯éƒ½ç»‘å®šä¸Šå»äº†å•Šã€‚stateæ€ä¹ˆçœ‹å‘¢ï¼Ÿè¿™ä¸ªéœ€è¦å€ŸåŠ©Reduxçš„å¼€å‘å·¥å…·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>Connect(Counter)</code>ç»„ä»¶çš„Stateæ¥æŸ¥çœ‹reduxé‚£é¢—å…¨å±€å”¯ä¸€çš„çŠ¶æ€æ ‘ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/83900b4egw1f9xu9c41t5j20ks06u40f.jpg" alt=""></p>
<p>é‚£ä¸ª<code>storeState</code>å°±æ˜¯å…¨å±€å”¯ä¸€çš„çŠ¶æ€æ ‘ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åªæœ‰ä¸€ä¸ª<code>counter</code>è€Œå·²ã€‚</p>
<h2 id="æ³¨å†Œstore"><a href="#æ³¨å†Œstore" class="headerlink" title="æ³¨å†Œstore"></a>æ³¨å†Œstore</h2><p>store/configureStore.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> thunk <span class="keyword">from</span> <span class="string">'redux-thunk'</span></div><div class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'../reducers'</span></div><div class="line"></div><div class="line"><span class="comment">//applyMiddlewareæ¥è‡ªreduxå¯ä»¥åŒ…è£… store çš„ dispatch</span></div><div class="line"><span class="comment">//thunkä½œç”¨æ˜¯ä½¿actionåˆ›å»ºå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªfunctionä»£æ›¿ä¸€ä¸ªactionå¯¹è±¡</span></div><div class="line"><span class="keyword">const</span> createStoreWithMiddleware = applyMiddleware(</div><div class="line">  thunk</div><div class="line">)(createStore)</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">configureStore</span>(<span class="params">initialState</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> store = createStoreWithMiddleware(reducer, initialState)</div><div class="line"></div><div class="line">  <span class="comment">//çƒ­æ›¿æ¢é€‰é¡¹</span></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</div><div class="line">    <span class="comment">// Enable Webpack hot module replacement for reducers</span></div><div class="line">    <span class="built_in">module</span>.hot.accept(<span class="string">'../reducers'</span>, () =&gt; &#123;</div><div class="line">      <span class="keyword">const</span> nextReducer = <span class="built_in">require</span>(<span class="string">'../reducers'</span>)</div><div class="line">      store.replaceReducer(nextReducer)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> store</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span></div><div class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./containers/App'</span></div><div class="line"><span class="keyword">import</span> configureStore <span class="keyword">from</span> <span class="string">'./store/configureStore'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> store = configureStore()</div><div class="line"></div><div class="line">render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</div><div class="line">)</div></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¹²äº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>ç”¨ä¸­é—´ä»¶ä½¿actionåˆ›å»ºå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªfunctionä»£æ›¿ä¸€ä¸ªactionå¯¹è±¡</li>
<li>å¦‚æœåœ¨çƒ­æ›¿æ¢çŠ¶æ€ï¼ˆWebpack hot module replacementï¼‰ä¸‹ï¼Œå…è®¸æ›¿æ¢reducer</li>
<li>å¯¼å‡º<code>store</code></li>
<li>å°†<code>store</code>æ”¾è¿›<code>Provider</code></li>
<li>å°†<code>Provider</code>æ”¾åœ¨ç»„ä»¶é¡¶å±‚ï¼Œå¹¶æ¸²æŸ“</li>
</ol>
<h2 id="applyMiddlewareã€thunk"><a href="#applyMiddlewareã€thunk" class="headerlink" title="applyMiddlewareã€thunk"></a>applyMiddlewareã€thunk</h2><p><code>applyMiddleware</code>æ¥è‡ªReduxå¯ä»¥åŒ…è£… store çš„ <code>dispatch()</code></p>
<p><code>thunk</code>ä½œç”¨ä½¿actionåˆ›å»ºå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªfunctionä»£æ›¿ä¸€ä¸ªactionå¯¹è±¡</p>
<h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h2><p>server.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="keyword">var</span> webpackDevMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>)</div><div class="line"><span class="keyword">var</span> webpackHotMiddleware = <span class="built_in">require</span>(<span class="string">'webpack-hot-middleware'</span>)</div><div class="line"><span class="keyword">var</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> (<span class="built_in">require</span>(<span class="string">'express'</span>))()</div><div class="line"><span class="keyword">var</span> port = <span class="number">3000</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> compiler = webpack(config)</div><div class="line">app.use(webpackDevMiddleware(compiler, &#123; <span class="attr">noInfo</span>: <span class="literal">true</span>, <span class="attr">publicPath</span>: config.output.publicPath &#125;))</div><div class="line">app.use(webpackHotMiddleware(compiler))</div><div class="line"></div><div class="line">app.get(<span class="string">"/"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.sendFile(__dirname + <span class="string">'/index.html'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.listen(port, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (error) &#123;</div><div class="line">    <span class="built_in">console</span>.error(error)</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.info(<span class="string">"==&gt; ğŸŒ  Listening on port %s. Open up http://localhost:%s/ in your browser."</span>, port, port)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">devtool</span>: <span class="string">'cheap-module-eval-source-map'</span>,</div><div class="line">  <span class="attr">entry</span>: [</div><div class="line">    <span class="string">'webpack-hot-middleware/client'</span>,</div><div class="line">    <span class="string">'./index'</span></div><div class="line">  ],</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: path.join(__dirname, <span class="string">'dist'</span>),</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span>,</div><div class="line">    <span class="attr">publicPath</span>: <span class="string">'/static/'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> webpack.optimize.OccurenceOrderPlugin(),</div><div class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</div><div class="line">    <span class="keyword">new</span> webpack.NoErrorsPlugin()</div><div class="line">  ],</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">        <span class="attr">loaders</span>: [ <span class="string">'babel'</span> ],</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">        <span class="attr">include</span>: __dirname</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>npm start</code> åæ‰§è¡Œ<code>node server</code> ï¼Œè§¦å‘webpackã€‚webpackæ’ä»¶åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ol>
<li><code>OccurenceOrderPlugin</code>çš„ä½œç”¨æ˜¯ç»™ç»å¸¸ä½¿ç”¨çš„æ¨¡å—åˆ†é…æœ€å°é•¿åº¦çš„idã€‚</li>
<li><code>HotModuleReplacementPlugin</code>æ˜¯çƒ­æ›¿æ¢ï¼Œçƒ­æ›¿æ¢å’Œdev-serverçš„<code>hot</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ç”¨åˆ·æ–°é¡µé¢ï¼Œå¯ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</li>
<li><code>NoErrorsPlugin</code>ç”¨äºä¿è¯ç¼–è¯‘åçš„ä»£ç æ°¸è¿œæ˜¯å¯¹çš„ï¼Œå› ä¸ºä¸å¯¹çš„è¯ä¼šè‡ªåŠ¨åœæ‰ã€‚</li>
</ol>
<h2 id="webpackHotMiddleware"><a href="#webpackHotMiddleware" class="headerlink" title="webpackHotMiddleware"></a>webpackHotMiddleware</h2><p>server.jsä¸­<code>webpackHotMiddleware</code>çš„ç”¨æ³•æ˜¯å‚è€ƒ<a href="https://www.npmjs.com/package/webpack-hot-middleware" target="_blank" rel="external">å®˜ç½‘</a>çš„ï¼Œæ²¡æœ‰ä¸ºä»€ä¹ˆï¼ŒExpressä¸­é—´ä»¶å°±æ˜¯åœ¨è¯·æ±‚åæ‰§è¡ŒæŸäº›æ“ä½œã€‚</p>
<hr>
<h2 id="æ•™ç¨‹æºä»£ç åŠç›®å½•"><a href="#æ•™ç¨‹æºä»£ç åŠç›®å½•" class="headerlink" title="æ•™ç¨‹æºä»£ç åŠç›®å½•"></a>æ•™ç¨‹æºä»£ç åŠç›®å½•</h2><p><a href="https://github.com/lewis617/react-redux-tutorial" target="_blank" rel="external">https://github.com/lewis617/react-redux-tutorial</a></p>

			
		</div>
		<footer class="article-footer">
			<a data-url="https://lewis617.github.io/2016/01/19/r2-counter/" data-id="ciww39piz00180i34t1x5jm7b"
			   class="article-share-link">å…±äº«</a>
			
			
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redux/">Redux</a></li></ul>

		</footer>
	</div>
	
	
<nav id="article-nav">
  
    <a href="/2016/01/20/r2-state/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Reactä¸Reduxæ•™ç¨‹ï¼ˆäºŒï¼‰Reduxçš„å•ä¸€çŠ¶æ€æ ‘å®Œå…¨æ›¿ä»£äº†Reactçš„çŠ¶æ€æœºï¼Ÿ
        
      </div>
    </a>
  
  
    <a href="/2016/01/18/rjs-gulp-webpack/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">r.jsç»“åˆgulpç­‰äºwebpackï¼ˆangularä¸ºä¾‹ï¼‰</div>
    </a>
  
</nav>

	
</article>


<section id="comments">
	<!-- å¤šè¯´è¯„è®ºæ¡† start -->
	<div class="ds-thread" data-thread-key="post-r2-counter" data-title="Reactä¸Reduxæ•™ç¨‹ï¼ˆä¸€ï¼‰connectã€applyMiddlewareã€thunkã€webpackHotMiddleware"
		 data-url="https://lewis617.github.io/2016/01/19/r2-counter/"></div>
	<!-- å¤šè¯´è¯„è®ºæ¡† end -->
	<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
	<script type="text/javascript">
		var duoshuoQuery = { short_name: 'liuyiqi' };
		(function () {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';
			ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0]
			|| document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
	<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->
</section>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
    <h3 class="widget-title">å…¬å‘Š</h3>
    <div class="widget">
        <ul>
			<li><a href="/2016/11/20/r2-book/" target="_blank">ã€ŠReact ä¸ Redux å¼€å‘å®ä¾‹ç²¾è§£ã€‹å‡ºç‰ˆäº†ï¼</a></li>
		</ul>
    </div>
</div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular2/">Angular2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Babel/">Babel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bootstrap/">Bootstrap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/">Flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/">Gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jinja2/">Jinja2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Karma/">Karma</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/">Node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redux/">Redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflux/">Reflux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RequireJs/">RequireJs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJS/">RxJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Universal/">Universal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/r-js/">r.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redux-amrc/">redux-amrc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å‡½æ•°å¼ç¼–ç¨‹/">å‡½æ•°å¼ç¼–ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å›¾ä¹¦/">å›¾ä¹¦</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æµ‹è¯•/">æµ‹è¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è·¨åŸŸ/">è·¨åŸŸ</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/Angular/" style="font-size: 14px;">Angular</a> <a href="/tags/Angular2/" style="font-size: 18px;">Angular2</a> <a href="/tags/Babel/" style="font-size: 10px;">Babel</a> <a href="/tags/Bootstrap/" style="font-size: 14px;">Bootstrap</a> <a href="/tags/Flask/" style="font-size: 12px;">Flask</a> <a href="/tags/Gulp/" style="font-size: 10px;">Gulp</a> <a href="/tags/Jinja2/" style="font-size: 10px;">Jinja2</a> <a href="/tags/Karma/" style="font-size: 12px;">Karma</a> <a href="/tags/Node/" style="font-size: 10px;">Node</a> <a href="/tags/React/" style="font-size: 20px;">React</a> <a href="/tags/Redux/" style="font-size: 20px;">Redux</a> <a href="/tags/Reflux/" style="font-size: 10px;">Reflux</a> <a href="/tags/RequireJs/" style="font-size: 16px;">RequireJs</a> <a href="/tags/RxJS/" style="font-size: 12px;">RxJS</a> <a href="/tags/Universal/" style="font-size: 12px;">Universal</a> <a href="/tags/Webpack/" style="font-size: 12px;">Webpack</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/r-js/" style="font-size: 10px;">r.js</a> <a href="/tags/redux-amrc/" style="font-size: 10px;">redux-amrc</a> <a href="/tags/å‡½æ•°å¼ç¼–ç¨‹/" style="font-size: 10px;">å‡½æ•°å¼ç¼–ç¨‹</a> <a href="/tags/å›¾ä¹¦/" style="font-size: 10px;">å›¾ä¹¦</a> <a href="/tags/æµ‹è¯•/" style="font-size: 14px;">æµ‹è¯•</a> <a href="/tags/è·¨åŸŸ/" style="font-size: 10px;">è·¨åŸŸ</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">åäºŒæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">åä¸€æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">å››æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">ä¸‰æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">äºŒæœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">ä¸€æœˆ 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">åäºŒæœˆ 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">åæœˆ 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">ä¹æœˆ 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/09/rxjs-redux-react-amazing-2/">RxJS + Redux + React = Amazing!ï¼ˆè¯‘äºŒï¼‰</a>
          </li>
        
          <li>
            <a href="/2016/12/08/rxjs-redux-react-amazing-1/">RxJS + Redux + React = Amazing!ï¼ˆè¯‘ä¸€ï¼‰</a>
          </li>
        
          <li>
            <a href="/2016/11/30/redux-amrc/">ç”¨æ›´å°‘çš„ä»£ç å‘èµ·å¼‚æ­¥ action</a>
          </li>
        
          <li>
            <a href="/2016/11/26/opendata/">React ä¸ Redux åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å®è·µæ€»ç»“</a>
          </li>
        
          <li>
            <a href="/2016/11/20/r2-book/">ã€ŠReact ä¸ Redux å¼€å‘å®ä¾‹ç²¾è§£ã€‹å‡ºç‰ˆäº†ï¼</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    <div class="widget-wrap">
	<h3 class="widget-title">å…³æ³¨æˆ‘</h3>
	<div class="widget">
		<ul>
			<li><a href="http://www.weibo.com/u/2207255374" target="_blank">å¾®åš</a></li>
			<li><a href="https://github.com/lewis617" target="_blank">GitHub</a></li>
		</ul>
	</div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
	
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Lewis617
      <!-- ä¸è’œç»Ÿè®¡ -->
      <br>
      <span style="display: inline;" id="busuanzi_container_site_uv">æœ¬ç«™æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv" font="å¾®è½¯é›…é»‘" style="color:white"></span> æ¬¡</span>
      <span style="display: inline;" id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv" font="å¾®è½¯é›…é»‘" style="color:white"></span> æ¬¡</span>
    </div>
  </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">ä¸»é¡µ</a>
  
    <a href="/archives" class="mobile-nav-link">å½’æ¡£</a>
  
</nav>
    

<script src="//cdn.css.net/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-88398388-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->




  </div>
</body>
</html>